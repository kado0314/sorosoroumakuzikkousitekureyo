<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <title>音声・顔認識システム (無料版)</title>
    <link rel="stylesheet" href="/sorosoroumakuzikkousitekureyo/style.css"> 
    
    <script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs@3.13.0/dist/tf.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/face-api.js@1.0.1/dist/face-api.js"></script>
</head>
<body>
    <h1>ハイブリッド認識システム</h1>

    <section class="section">
        <h2>🎤 1. 音声入力テキスト化</h2>
        <button id="startStopVoiceBtn">🔴 音声認識を開始</button>
        <p id="voiceStatus">待機中...</p>
        <textarea id="outputVoice" rows="5" readonly placeholder="認識されたテキストが表示されます..."></textarea>
        <button id="copyBtn">📋 テキストをコピー</button>
        <p class="note">※ Web Speech APIを利用。ブラウザを閉じるとセッション終了。</p>
    </section>

    <hr>
    
    <section class="section">
        <h2>🕵️ 2. 隠し機能：危険人物監視</h2>
        <button id="toggleCameraBtn" class="secret-button">通知ボタン (カメラ起動)</button>
        <p id="cameraStatus">カメラはオフです</p>
        
        <div class="video-container">
            <video id="webcamVideo" width="400" height="300" autoplay muted></video>
            <canvas id="overlayCanvas" width="400" height="300"></canvas>
        </div>

        <div id="faceControls">
            <h3>人物登録 (最大10名)</h3>
            <p class="note">※ 登録データはページを閉じると消えます。</p>
            <input type="text" id="personName" placeholder="人物名 (必須)">
            <input type="file" id="imageUpload" accept="image/*" multiple>
            <button id="registerFaceBtn">特徴を登録</button>
            
            <h4>登録リスト (<span id="registeredCount">0</span>/10)</h4>
            <ul id="registeredList"></ul>
        </div>
    </section>
    
    <script src="/sorosoroumakuzikkousitekureyo/face-logic.js"></script>
    <script src="/sorosoroumakuzikkousitekureyo/script.js"></script>
</body>
</html>
